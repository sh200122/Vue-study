{"ast":null,"code":"export default {\n  data() {\n    return {\n      isEdit: false\n    };\n  },\n  methods: {\n    // 双击后，切换显示状态\n    handleClick() {\n      this.isEdit = true;\n      // // 等dom更新完了，再获取焦点\n      // this.$nextTick(()=>{\n      //   this.$refs.inp.focus()\n      // })\n    },\n    // 由于父组件是v-model，触发事件，需要触发input\n    handleEnter(e) {\n      if (e.target.value.trim() === '') return alert('输入标签不能为空');\n      this.$emit('input', e.target.value);\n      // 提交完成，关闭输入框\n      this.isEdit = false;\n    }\n  },\n  props: {\n    value: String\n  }\n};","map":{"version":3,"names":["data","isEdit","methods","handleClick","handleEnter","e","target","value","trim","alert","$emit","props","String"],"sources":["src/components/MyTag.vue"],"sourcesContent":["<template>\r\n  <div class=\"my-tag\">\r\n    <input \r\n      v-if=\"isEdit\"\r\n      ref=\"inp\"\r\n      v-focus\r\n      class=\"input\"\r\n      type=\"text\"\r\n      :value=\"value\"\r\n      placeholder=\"输入标签\"\r\n      @blur=\"isEdit=false\"\r\n      @keyup.enter=\"handleEnter\"\r\n    />\r\n    <div \r\n      v-else\r\n      @dblclick=\"handleClick\"\r\n      class=\"text\">\r\n        {{value}}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      isEdit:false\r\n    }\r\n  },\r\n  methods: {\r\n    // 双击后，切换显示状态\r\n    handleClick(){\r\n      this.isEdit=true\r\n      // // 等dom更新完了，再获取焦点\r\n      // this.$nextTick(()=>{\r\n      //   this.$refs.inp.focus()\r\n      // })\r\n    },\r\n    // 由于父组件是v-model，触发事件，需要触发input\r\n    handleEnter(e){\r\n      if(e.target.value.trim()==='') return alert('输入标签不能为空')\r\n      this.$emit('input',e.target.value)\r\n      // 提交完成，关闭输入框\r\n      this.isEdit=false\r\n    }\r\n  },\r\n  props:{\r\n    value:String\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.my-tag {\r\n    cursor: pointer;\r\n    .input {\r\n      appearance: none;\r\n      outline: none;\r\n      border: 1px solid #ccc;\r\n      width: 100px;\r\n      height: 40px;\r\n      box-sizing: border-box;\r\n      padding: 10px;\r\n      color: #666;\r\n      &::placeholder {\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n</style>"],"mappings":"AAuBA;EACAA,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,YAAA;MACA,KAAAF,MAAA;MACA;MACA;MACA;MACA;IACA;IACA;IACAG,YAAAC,CAAA;MACA,IAAAA,CAAA,CAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,kBAAAC,KAAA;MACA,KAAAC,KAAA,UAAAL,CAAA,CAAAC,MAAA,CAAAC,KAAA;MACA;MACA,KAAAN,MAAA;IACA;EACA;EACAU,KAAA;IACAJ,KAAA,EAAAK;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}